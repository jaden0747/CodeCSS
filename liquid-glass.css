/* VSCode Liquid Glass effect */
/* Configurable transparency + full overlay coverage */

/* ==================== General Liquid Glass styles ==================== */

:root {
  /* Liquid Glass color variables */
  --glass-bg-light: rgba(255, 255, 255, 0.3);
  --glass-bg-dark: rgba(30, 30, 30, 0.3);
  --glass-border: transparent;
  --glass-shadow: rgba(0, 0, 0, 0.4);

  /* Blur and saturation */
  --glass-blur: blur(8px);
  --glass-saturate: saturate(130%);
  --glass-brightness: brightness(1.05);
}

/* ==================== 0. Full-window frosted glass background ==================== */

/* Main workbench background */
html,
body,
.monaco-workbench,
.monaco-workbench .monaco-grid-view,
.monaco-workbench .part.editor > .content {

  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
}

/* Editor area semi-transparent */
.monaco-workbench .editor-container,
.monaco-workbench .split-view-view,
.monaco-workbench .part.editor,
.monaco-workbench .part.editor > .content,
.monaco-workbench .editor-instance,
.monaco-workbench .editor-instance > .monaco-editor,
.monaco-editor,
.monaco-editor .overflow-guard,
.monaco-editor .monaco-editor-background,
.monaco-editor-background {
  background: rgba(30, 30, 30, 0.2) !important;
}

/* Line number area semi-transparent */
.monaco-editor .margin,
.monaco-editor .glyph-margin,
.monaco-editor .line-numbers {
  background: rgba(30, 30, 30, 0.2) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

/* Sidebar semi-transparent */
.monaco-workbench .part.sidebar,
.monaco-workbench .part.auxiliarybar,
.monaco-workbench .part.activitybar,
.monaco-workbench .part.titlebar,
.monaco-workbench .part.statusbar {
  background: rgba(30, 30, 30, 0.3) !important;
  background-color: rgba(30, 30, 30, 0.3) !important;
}

/* Collapsible header needs background to prevent bleed-through */
.pane-header,
.panel-header,
.composite-title,
.monaco-pane-view .pane-header,
.split-view-view .pane-header,
.sidebar-pane .pane-header,
div[class*="pane-header"],
.monaco-workbench .pane-header,
.monaco-workbench .panel-header,
.monaco-workbench .composite-title,
.monaco-workbench .part.sidebar .pane-header,
.monaco-workbench .part.sidebar .panel-header {
  background: rgba(30, 30, 30, 0.28) !important;
  background-color: rgba(30, 30, 30, 0.28) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  position: relative !important;
  z-index: 100 !important;
}

/* File tree items need slight background to avoid overlap - exclude Quick Input */
.monaco-workbench .part.sidebar .monaco-list-row,
.monaco-workbench .part.sidebar .monaco-tl-row,
.monaco-workbench .part.auxiliarybar .monaco-list-row,
.monaco-workbench .part.auxiliarybar .monaco-tl-row,
.explorer-item,
.tree-explorer-viewlet-tree-view .monaco-list-row {
  background: rgba(30, 30, 30, 0.1) !important;
  background-color: rgba(30, 30, 30, 0.1) !important;
  backdrop-filter: blur(2px) !important;
  -webkit-backdrop-filter: blur(2px) !important;
}

/* Hover state - exclude Quick Input */
.monaco-workbench .part.sidebar .monaco-list-row:hover,
.monaco-workbench .part.auxiliarybar .monaco-list-row:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  background-color: rgba(255, 255, 255, 0.15) !important;
}

/* Child elements transparent - exclude pane-header and list-row */
/* Panel should not use wildcard rules; it has dedicated styles */
.monaco-workbench .part.sidebar *:not(.pane-header):not(.panel-header):not(.composite-title):not(.monaco-list-row):not(.monaco-tl-row),
.monaco-workbench .part.auxiliarybar *:not(.pane-header):not(.panel-header):not(.composite-title):not(.monaco-list-row):not(.monaco-tl-row),
.monaco-workbench .part.activitybar *,
.monaco-workbench .part.titlebar * {
  background-color: transparent !important;
}

/* Tab bar semi-transparent */
.monaco-workbench .tabs-and-actions-container,
.monaco-workbench .editor-group-container > .title,
.monaco-workbench .title.tabs,
.monaco-workbench .tabs-container {
  background: rgba(30, 30, 30, 0.3) !important;
  background-color: rgba(30, 30, 30, 0.3) !important;
}

/* Individual tabs transparent */
.monaco-workbench .tab {
  background: transparent !important;
  background-color: transparent !important;
}

.monaco-workbench .tab.active {
  background: rgba(255, 255, 255, 0.1) !important;
  background-color: rgba(255, 255, 255, 0.1) !important;
}

/* ==================== Quick Input centered + Liquid Glass ==================== */

.monaco-workbench .quick-input-widget {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 600px !important;
  max-width: 90vw !important;

  background: rgba(30, 30, 30, 0.5) !important;
  background-color: rgba(30, 30, 30, 0.5) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: 0 16px 48px 0 rgba(0, 0, 0, 0.5) !important;
  border-radius: 16px !important;
}

.monaco-workbench .quick-input-header,
.monaco-workbench .quick-input-list,
.monaco-workbench .quick-input-title,
.monaco-workbench .quick-input-list .monaco-list {
  background: transparent !important;
}

.monaco-workbench .quick-input-widget .monaco-inputbox {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  border-radius: 8px !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

.monaco-workbench .quick-input-list .monaco-list-row {
  background: transparent !important;
  background-color: transparent !important;
  border-radius: 6px !important;
  margin: 0px !important;
  padding-left: 12px !important;
}

.monaco-workbench .quick-input-list .monaco-list-row:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  background-color: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

.monaco-workbench .quick-input-list .monaco-list-row.focused {
  background: rgba(90, 150, 255, 0.25) !important;
  background-color: rgba(90, 150, 255, 0.25) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

/* ==================== Overlay frosted glass effects ==================== */

/* Context Menu */
.monaco-workbench .context-view,
.shadow-root-host .context-view,
div.context-view {
  background: var(--glass-bg-dark) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: none !important;
  box-shadow: 0 10px 40px 0 var(--glass-shadow) !important;
  border-radius: 10px !important;
  padding: 6px !important;
}

/* Notifications */
.monaco-workbench .notifications-toasts,
.monaco-workbench .notification-toast,
.monaco-workbench .notification-toast-container,
.monaco-workbench .notification-list-item,
.notifications-toasts,
.notification-toast,
.notification-toast-container,
.notification-list-item,
.notifications-center {
  background: rgba(30, 30, 30, 0) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: none !important;
  box-shadow: 0 12px 40px 0 var(--glass-shadow) !important;
  border-radius: 12px !important;
}

/* Code definition hover */
.monaco-workbench .monaco-hover,
.monaco-workbench .monaco-editor-hover,
.monaco-workbench .editor-hover-content,
.monaco-hover-content,
.monaco-hover,
.monaco-editor-hover,
.editor-hover-content {
  background: rgba(30, 30, 30, 0) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: none !important;
  box-shadow: 0 8px 30px 0 var(--glass-shadow) !important;
  border-radius: 10px !important;
}

/* Hover content area */
.monaco-workbench .monaco-hover .hover-contents,
.monaco-hover .hover-contents,
.monaco-workbench .monaco-hover .hover-row,
.monaco-hover .hover-row,
.monaco-workbench .monaco-hover .monaco-editor,
.monaco-hover .monaco-editor {
  background: transparent !important;
  border: none !important;
  border-radius: 10px !important;
}

/* Code suggestion box (Suggest Widget) */
.monaco-workbench .suggest-widget,
.monaco-workbench .editor-widget.suggest-widget,
.suggest-widget,
.editor-widget.suggest-widget {
  background: rgba(30, 30, 30, 0.5) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 8px 30px 0 var(--glass-shadow) !important;
  border-radius: 10px !important;
}

.monaco-workbench .suggest-widget .monaco-list,
.suggest-widget .monaco-list {
  background: transparent !important;
}

.monaco-workbench .suggest-widget .monaco-list .monaco-list-row,
.suggest-widget .monaco-list .monaco-list-row {
  background: transparent !important;
}

.monaco-workbench .suggest-widget .monaco-list .monaco-list-row.focused,
.suggest-widget .monaco-list .monaco-list-row.focused {
  background: rgba(90, 150, 255, 0.3) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

/* Parameter hints box (Parameter Hints) */
.monaco-workbench .parameter-hints-widget,
.parameter-hints-widget {
  background: rgba(30, 30, 30, 0.5) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 8px 30px 0 var(--glass-shadow) !important;
  border-radius: 10px !important;
}

/* Find box (Find Widget) */
.monaco-workbench .find-widget,
.monaco-workbench .editor-widget.find-widget,
.find-widget,
.editor-widget.find-widget {
  background: rgba(30, 30, 30, 0.5) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 8px 30px 0 var(--glass-shadow) !important;
  border-radius: 10px !important;
}

/* Search view (Search View) */
.monaco-workbench .search-view,
.search-view {
  background: transparent !important;
}

.monaco-workbench .search-view .search-widget,
.search-view .search-widget {
  background: rgba(30, 30, 30, 0.3) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 8px !important;
}

/* Monaco List unified selection effects */
.monaco-workbench .monaco-list .monaco-list-row:hover,
.monaco-list .monaco-list-row:hover {
  background: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 6px !important;
}

.monaco-workbench .monaco-list .monaco-list-row.focused,
.monaco-list .monaco-list-row.focused,
.monaco-workbench .monaco-list .monaco-list-row:focus,
.monaco-list .monaco-list-row:focus {
  background: rgba(90, 150, 255, 0.3) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 6px !important;
  outline: none !important;
}

.monaco-workbench .monaco-list .monaco-list-row.selected,
.monaco-list .monaco-list-row.selected,
.monaco-workbench .monaco-list .monaco-list-row[aria-selected="true"],
.monaco-list .monaco-list-row[aria-selected="true"] {
  background: rgba(90, 150, 255, 0.25) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 6px !important;
}

.monaco-workbench .monaco-list .monaco-list-row.selected.focused,
.monaco-list .monaco-list-row.selected.focused,
.monaco-workbench .monaco-list .monaco-list-row.selected:focus,
.monaco-list .monaco-list-row.selected:focus {
  background: rgba(90, 150, 255, 0.4) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 6px !important;
}

/* Terminal sticky scroll header - add background and blur */
.terminal-sticky-scroll,
.monaco-workbench .terminal-sticky-scroll,
.part.panel .terminal-sticky-scroll {
  background: rgba(30, 30, 30, 0.28) !important;
  background-color: rgba(30, 30, 30, 0.28) !important;
  backdrop-filter: blur(5px) saturate(180%) !important;
  position: relative !important;
  z-index: 1000 !important;
}

/* Alert dialog - add blur effect */
.monaco-alert {
  background: rgba(30, 30, 30, 0.85) !important;
  backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  -webkit-backdrop-filter: var(--glass-blur) var(--glass-saturate) var(--glass-brightness) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 16px 50px 0 rgba(0, 0, 0, 0.6) !important;
  border-radius: 12px !important;
}

/* Settings page - transparent background */
/* Left-side settings menu */
.monaco-workbench .settings-editor .settings-toc-container,
.settings-editor .settings-toc-container {
  background: transparent !important;
}

.monaco-workbench .settings-editor .settings-toc-wrapper,
.settings-editor .settings-toc-wrapper {
  background: transparent !important;
}

/* Settings items list */
.monaco-workbench .settings-editor .settings-body,
.settings-editor .settings-body {
  background: transparent !important;
}

/* Single settings item */
.monaco-workbench .settings-editor .setting-item,
.settings-editor .setting-item {
  background: transparent !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* Settings item hover effect */
.monaco-workbench .settings-editor .setting-item:hover,
.settings-editor .setting-item:hover {
  background: rgba(255, 255, 255, 0.03) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

/* Settings group title */
.monaco-workbench .settings-editor .settings-group-title-label,
.settings-editor .settings-group-title-label {
  background: rgba(30, 30, 30, 0.3) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border-radius: 8px !important;
}

/* Settings left-side menu item */
.monaco-workbench .settings-editor .settings-toc-entry,
.settings-editor .settings-toc-entry {
  background: transparent !important;
}

.monaco-workbench .settings-editor .settings-toc-entry:hover,
.settings-editor .settings-toc-entry:hover {
  background: rgba(255, 255, 255, 0.05) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

.monaco-workbench .settings-editor .settings-toc-entry.selected,
.settings-editor .settings-toc-entry.selected {
  background: rgba(90, 150, 255, 0.2) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
}

/* Monaco list on settings page: transparent background */
.monaco-workbench .settings-editor .monaco-list .monaco-list-rows,
.settings-editor .monaco-list .monaco-list-rows,
.monaco-list.list_id_6 .monaco-list-rows,
.monaco-list.list_id_7 .monaco-list-rows {
  background: transparent !important;
  background-color: transparent !important;
}

/* All monaco lists on settings page */
.monaco-workbench .settings-editor .monaco-list,
.settings-editor .monaco-list {
  background: transparent !important;
  background-color: transparent !important;
}

/* ==================== Jupyter Notebook transparent background ==================== */

/* Notebook editor container */
.monaco-workbench .notebookOverlay,
.monaco-workbench .notebook-editor,
.notebookOverlay,
.notebook-editor {
  background: transparent !important;
  background-color: transparent !important;
}

/* Notebook cell list */
.monaco-workbench .notebook-cell-list,
.notebook-cell-list {
  background: transparent !important;
  background-color: transparent !important;
}

/* Single notebook cell */
.monaco-workbench .cell,
.monaco-workbench .notebook-cell,
.monaco-workbench .code-cell-row,
.monaco-workbench .markdown-cell-row,
.cell,
.notebook-cell,
.code-cell-row,
.markdown-cell-row {
  background: transparent !important;
  background-color: transparent !important;
}

/* Cell input area */
.monaco-workbench .cell-editor-container,
.monaco-workbench .input-cell-container,
.cell-editor-container,
.input-cell-container {
  background: rgba(30, 30, 30, 0.2) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 8px !important;
}

/* Cell output area */
.monaco-workbench .cell-output-container,
.monaco-workbench .output-container,
.cell-output-container,
.output-container {
  background: transparent !important;
  background-color: transparent !important;
}

/* Notebook toolbar */
.monaco-workbench .notebook-toolbar,
.monaco-workbench .notebook-cell-toolbar,
.notebook-toolbar,
.notebook-cell-toolbar {
  background: rgba(30, 30, 30, 0.3) !important;
  backdrop-filter: blur(5px) !important;
  -webkit-backdrop-filter: blur(5px) !important;
  border-radius: 6px !important;
}

/* Cell selection effect */
.monaco-workbench .notebook-cell.focused,
.monaco-workbench .notebook-cell.selected,
.notebook-cell.focused,
.notebook-cell.selected {
  background: rgba(90, 150, 255, 0.1) !important;
}

/* Notebook output content area */
.monaco-workbench .output,
.monaco-workbench .cell-output,
.output,
.cell-output {
  background: rgba(30, 30, 30, 0.15) !important;
  backdrop-filter: blur(3px) !important;
  -webkit-backdrop-filter: blur(3px) !important;
  border-radius: 6px !important;
}

/* Notebook scroll area */
.monaco-workbench .notebook-editor .monaco-scrollable-element,
.notebook-editor .monaco-scrollable-element {
  background: transparent !important;
}

/* Notebook editor cell list row container */
.notebook-editor > .cell-list-container > .monaco-list > .monaco-list-rows,
.monaco-workbench .notebook-editor > .cell-list-container > .monaco-list > .monaco-list-rows {
  background: transparent !important;
  background-color: transparent !important;
}
